(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{9208:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(2051)}])},2051:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return l}});var o=n(5893),a=n(7294),c=n(9239),s=n(7080),i=n(6154);let d=(e=>{let{baseURL:t,fetch:n}=e,o=(void 0===t?"":t).replace(/\/$/,""),a="/health",c="/image",i="/session",d="/tasks",r="/tasks/di",h="POST",l="DELETE",j="PATCH";return{health:{get:e=>n(o,a,"GET",e).json(),$get:e=>n(o,a,"GET",e).json().then(e=>e.body),$path:()=>"".concat(o).concat(a)},image:{get:e=>n(o,c,"GET",e).text(),$get:e=>n(o,c,"GET",e).text().then(e=>e.body),post:e=>n(o,c,h,e).json(),$post:e=>n(o,c,h,e).json().then(e=>e.body),$path:()=>"".concat(o).concat(c)},me:{get:e=>n(o,"/me","GET",e).json(),$get:e=>n(o,"/me","GET",e).json().then(e=>e.body),$path:()=>"".concat(o).concat("/me")},session:{post:e=>n(o,i,h,e).json(),$post:e=>n(o,i,h,e).json().then(e=>e.body),delete:e=>n(o,i,l,e).json(),$delete:e=>n(o,i,l,e).json().then(e=>e.body),$path:()=>"".concat(o).concat(i)},tasks:{_taskId:e=>{let t="".concat(d,"/").concat(e);return{patch:e=>n(o,t,j,e).json(),$patch:e=>n(o,t,j,e).json().then(e=>e.body),delete:e=>n(o,t,l,e).json(),$delete:e=>n(o,t,l,e).json().then(e=>e.body),$path:()=>"".concat(o).concat(t)}},di:{get:e=>n(o,r,"GET",e).json(),$get:e=>n(o,r,"GET",e).json().then(e=>e.body),$path:()=>"".concat(o).concat(r)},get:e=>n(o,d,"GET",e).json(),$get:e=>n(o,d,"GET",e).json().then(e=>e.body),post:e=>n(o,d,h,e).json(),$post:e=>n(o,d,h,e).json().then(e=>e.body),patch:e=>n(o,d,j,e).json(),$patch:e=>n(o,d,j,e).json().then(e=>e.body),delete:e=>n(o,d,l,e).json(),$delete:e=>n(o,d,l,e).json().then(e=>e.body),$path:e=>"".concat(o).concat(d).concat(e&&e.query?"?".concat((0,s._K)(e.query)):"")},get:e=>n(o,"","GET",e).text(),$get:e=>n(o,"","GET",e).text().then(e=>e.body),$path:()=>"".concat(o)}})((0,c.Z)(i.Z.create({withCredentials:!0})));var r=n(2729),h=n.n(r),l=()=>{let[e,t]=(0,a.useState)(""),n=window.location.pathname,c=async()=>{try{var e;let n=await d.image.$post();if(!n){console.error("API response is null");return}console.log(n),(null===(e=n.data[0])||void 0===e?void 0:e.b64_json)&&t(n.data[0].b64_json)}catch(e){console.error("API error:",e)}};return(0,o.jsxs)("div",{className:h().container,children:[(0,o.jsx)("div",{className:h().headerTop,children:(0,o.jsx)("div",{className:h().textBottomLeft,children:"考える像大喜利"})}),(0,o.jsxs)("div",{className:h().headerBottom,children:[(0,o.jsx)("a",{href:"/",className:"".concat(h().link," ").concat("/"===n?h().active:""),children:"Home"}),(0,o.jsx)("a",{href:"/create",className:"".concat(h().link," ").concat("/create"===n?h().active:""),children:"Create"}),(0,o.jsx)("a",{href:"/view",className:"".concat(h().link," ").concat("/view"===n?h().active:""),children:"View"}),(0,o.jsx)("a",{href:"/outstanding",className:"".concat(h().link," ").concat("/outstanding"===n?h().active:""),children:"Outstanding"})]}),(0,o.jsx)("button",{onClick:c,children:"作る"}),e&&(0,o.jsx)("div",{className:"generated-image-area",children:(0,o.jsx)("figure",{children:(0,o.jsx)("img",{src:"data:image/png;base64,".concat(e),alt:"Generated Data"})})})]})}},2729:function(e){e.exports={container:"index_container___q52_",headerTop:"index_headerTop__Vpc_q",textBottomLeft:"index_textBottomLeft__hQ6Lt",headerBottom:"index_headerBottom__eldbw",link:"index_link__ipPbc",active:"index_active__s6fVP"}}},function(e){e.O(0,[911,774,888,179],function(){return e(e.s=9208)}),_N_E=e.O()}]);