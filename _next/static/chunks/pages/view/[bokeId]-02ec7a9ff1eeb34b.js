(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[741],{3549:function(e,t,n){"use strict";var o=n(4836);t.Z=void 0;var i=o(n(4938)),l=n(5893),r=(0,i.default)((0,l.jsx)("path",{d:"M2 12c0 5.52 4.48 10 10 10s10-4.48 10-10S17.52 2 12 2 2 6.48 2 12zm10-1h4v2h-4v3l-4-4 4-4v3z"}),"ArrowCircleLeft");t.Z=r},7976:function(e,t,n){"use strict";var o=n(4836);t.Z=void 0;var i=o(n(4938)),l=n(5893),r=(0,i.default)((0,l.jsx)("path",{d:"M22 12c0-5.52-4.48-10-10-10S2 6.48 2 12s4.48 10 10 10 10-4.48 10-10zm-10 1H8v-2h4V8l4 4-4 4v-3z"}),"ArrowCircleRight");t.Z=r},4938:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o.createSvgIcon}});var o=n(9513)},8169:function(e,t,n){"use strict";n.d(t,{Z:function(){return b}});var o=n(7462),i=n(7294),l=n(3366),r=n(512),a=n(4780),c=n(8216),s=n(4502),u=n(1496),d=n(1588),h=n(4867);function f(e){return(0,h.Z)("MuiSvgIcon",e)}(0,d.Z)("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);var p=n(5893);let m=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],v=e=>{let{color:t,fontSize:n,classes:o}=e,i={root:["root","inherit"!==t&&`color${(0,c.Z)(t)}`,`fontSize${(0,c.Z)(n)}`]};return(0,a.Z)(i,f,o)},g=(0,u.ZP)("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.root,"inherit"!==n.color&&t[`color${(0,c.Z)(n.color)}`],t[`fontSize${(0,c.Z)(n.fontSize)}`]]}})(({theme:e,ownerState:t})=>{var n,o,i,l,r,a,c,s,u,d,h,f,p;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:t.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:null==(n=e.transitions)||null==(o=n.create)?void 0:o.call(n,"fill",{duration:null==(i=e.transitions)||null==(i=i.duration)?void 0:i.shorter}),fontSize:({inherit:"inherit",small:(null==(l=e.typography)||null==(r=l.pxToRem)?void 0:r.call(l,20))||"1.25rem",medium:(null==(a=e.typography)||null==(c=a.pxToRem)?void 0:c.call(a,24))||"1.5rem",large:(null==(s=e.typography)||null==(u=s.pxToRem)?void 0:u.call(s,35))||"2.1875rem"})[t.fontSize],color:null!=(d=null==(h=(e.vars||e).palette)||null==(h=h[t.color])?void 0:h.main)?d:({action:null==(f=(e.vars||e).palette)||null==(f=f.action)?void 0:f.active,disabled:null==(p=(e.vars||e).palette)||null==(p=p.action)?void 0:p.disabled,inherit:void 0})[t.color]}}),y=i.forwardRef(function(e,t){let n=(0,s.Z)({props:e,name:"MuiSvgIcon"}),{children:a,className:c,color:u="inherit",component:d="svg",fontSize:h="medium",htmlColor:f,inheritViewBox:y=!1,titleAccess:b,viewBox:x="0 0 24 24"}=n,k=(0,l.Z)(n,m),S=i.isValidElement(a)&&"svg"===a.type,j=(0,o.Z)({},n,{color:u,component:d,fontSize:h,instanceFontSize:e.fontSize,inheritViewBox:y,viewBox:x,hasSvgAsChild:S}),_={};y||(_.viewBox=x);let w=v(j);return(0,p.jsxs)(g,(0,o.Z)({as:d,className:(0,r.Z)(w.root,c),focusable:"false",color:f,"aria-hidden":!b||void 0,role:b?"img":void 0,ref:t},_,k,S&&a.props,{ownerState:j,children:[S?a.props.children:a,b?(0,p.jsx)("title",{children:b}):null]}))});function b(e,t){function n(n,i){return(0,p.jsx)(y,(0,o.Z)({"data-testid":`${t}Icon`,ref:i},n,{children:e}))}return n.muiName=y.muiName,i.memo(i.forwardRef(n))}y.muiName="SvgIcon"},9513:function(e,t,n){"use strict";n.r(t),n.d(t,{capitalize:function(){return i.Z},createChainedFunction:function(){return l},createSvgIcon:function(){return r.Z},debounce:function(){return a},deprecatedPropType:function(){return c},isMuiElement:function(){return u},ownerDocument:function(){return d},ownerWindow:function(){return h},requirePropFactory:function(){return f},setRef:function(){return p},unstable_ClassNameGenerator:function(){return S},unstable_useEnhancedEffect:function(){return m},unstable_useId:function(){return v.Z},unsupportedProp:function(){return g},useControlled:function(){return y.Z},useEventCallback:function(){return b},useForkRef:function(){return x.Z},useIsFocusVisible:function(){return k.Z}});var o=n(7078),i=n(8216),l=n(6508).Z,r=n(8169),a=function(e,t=166){let n;function o(...i){clearTimeout(n),n=setTimeout(()=>{e.apply(this,i)},t)}return o.clear=()=>{clearTimeout(n)},o},c=function(e,t){return()=>null},s=n(7294),u=function(e,t){return s.isValidElement(e)&&-1!==t.indexOf(e.type.muiName)},d=n(2690).Z,h=n(4161).Z;n(7462);var f=function(e,t){return()=>null},p=n(7960).Z,m=n(3546).Z,v=n(7909),g=function(e,t,n,o,i){return null},y=n(2021),b=n(9948).Z,x=n(1705),k=n(8791);let S={configure:e=>{o.Z.configure(e)}}},2021:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var o=n(7294),i=function({controlled:e,default:t,name:n,state:i="value"}){let{current:l}=o.useRef(void 0!==e),[r,a]=o.useState(t),c=l?e:r,s=o.useCallback(e=>{l||a(e)},[]);return[c,s]}},7909:function(e,t,n){"use strict";var o=n(2996);t.Z=o.Z},8791:function(e,t,n){"use strict";let o;n.d(t,{Z:function(){return d}});var i=n(7294);let l=!0,r=!1,a={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function c(e){e.metaKey||e.altKey||e.ctrlKey||(l=!0)}function s(){l=!1}function u(){"hidden"===this.visibilityState&&r&&(l=!0)}var d=function(){let e=i.useCallback(e=>{if(null!=e){var t;(t=e.ownerDocument).addEventListener("keydown",c,!0),t.addEventListener("mousedown",s,!0),t.addEventListener("pointerdown",s,!0),t.addEventListener("touchstart",s,!0),t.addEventListener("visibilitychange",u,!0)}},[]),t=i.useRef(!1);return{isFocusVisibleRef:t,onFocus:function(e){return!!function(e){let{target:t}=e;try{return t.matches(":focus-visible")}catch(e){}return l||function(e){let{type:t,tagName:n}=e;return"INPUT"===n&&!!a[t]&&!e.readOnly||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}(e)&&(t.current=!0,!0)},onBlur:function(){return!!t.current&&(r=!0,window.clearTimeout(o),o=window.setTimeout(()=>{r=!1},100),t.current=!1,!0)},ref:e}}},5053:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/view/[bokeId]",function(){return n(4344)}])},1587:function(e,t,n){"use strict";var o=n(5893),i=n(1014),l=n.n(i);t.Z=()=>{let e=window.location.pathname;return(0,o.jsxs)("div",{className:l().headerContainer,children:[(0,o.jsx)("div",{className:l().headerTop,children:(0,o.jsx)("div",{className:l().textBottomLeft,children:"Thinker"})}),(0,o.jsxs)("div",{className:l().headerBottom,children:[(0,o.jsx)("a",{href:"/",className:"".concat(l().link," ").concat("/"===e?l().active:""),children:"Home"}),(0,o.jsx)("a",{href:"/view",className:"".concat(l().link," ").concat("/view/"===e?l().active:""),children:"View"}),(0,o.jsx)("a",{href:"/create",className:"".concat(l().link," ").concat("/create/"===e?l().active:""),children:"Create"}),(0,o.jsx)("a",{href:"/outstanding",className:"".concat(l().link," ").concat("/outstanding/"===e?l().active:""),children:"Outstanding"})]})]})}},4344:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return ee}});var o=n(5893),i=n(3549),l=n(7976),r=n(9008),a=n.n(r),c=n(1163),s=n(7294),u=n(3024),d=n(2489),h=n(3366),f=n(7462),p=n(512),m={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:-1,overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"},v=n(4780),g=n(2734),y=n(8216),b=n(7909),x=n(2021),k=n(8791),S=n(1705),j=n(8169),_=(0,j.Z)((0,o.jsx)("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star"),w=(0,j.Z)((0,o.jsx)("path",{d:"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"}),"StarBorder"),Z=n(4502),E=n(1496),T=n(1588),C=n(4867);function B(e){return(0,C.Z)("MuiRating",e)}let $=(0,T.Z)("MuiRating",["root","sizeSmall","sizeMedium","sizeLarge","readOnly","disabled","focusVisible","visuallyHidden","pristine","label","labelEmptyValueActive","icon","iconEmpty","iconFilled","iconHover","iconFocus","iconActive","decimal"]),N=["value"],A=["className","defaultValue","disabled","emptyIcon","emptyLabelText","getLabelText","highlightSelectedOnly","icon","IconContainerComponent","max","name","onChange","onChangeActive","onMouseLeave","onMouseMove","precision","readOnly","size","value"];function F(e,t){if(null==e)return e;let n=Math.round(e/t)*t;return Number(n.toFixed(function(e){let t=e.toString().split(".")[1];return t?t.length:0}(t)))}let R=e=>{let{classes:t,size:n,readOnly:o,disabled:i,emptyValueFocused:l,focusVisible:r}=e,a={root:["root",`size${(0,y.Z)(n)}`,i&&"disabled",r&&"focusVisible",o&&"readOnly"],label:["label","pristine"],labelEmptyValue:[l&&"labelEmptyValueActive"],icon:["icon"],iconEmpty:["iconEmpty"],iconFilled:["iconFilled"],iconHover:["iconHover"],iconFocus:["iconFocus"],iconActive:["iconActive"],decimal:["decimal"],visuallyHidden:["visuallyHidden"]};return(0,v.Z)(a,B,t)},z=(0,E.ZP)("span",{name:"MuiRating",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[{[`& .${$.visuallyHidden}`]:t.visuallyHidden},t.root,t[`size${(0,y.Z)(n.size)}`],n.readOnly&&t.readOnly]}})(({theme:e,ownerState:t})=>(0,f.Z)({display:"inline-flex",position:"relative",fontSize:e.typography.pxToRem(24),color:"#faaf00",cursor:"pointer",textAlign:"left",WebkitTapHighlightColor:"transparent",[`&.${$.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${$.focusVisible} .${$.iconActive}`]:{outline:"1px solid #999"},[`& .${$.visuallyHidden}`]:m},"small"===t.size&&{fontSize:e.typography.pxToRem(18)},"large"===t.size&&{fontSize:e.typography.pxToRem(30)},t.readOnly&&{pointerEvents:"none"})),M=(0,E.ZP)("label",{name:"MuiRating",slot:"Label",overridesResolver:({ownerState:e},t)=>[t.label,e.emptyValueFocused&&t.labelEmptyValueActive]})(({ownerState:e})=>(0,f.Z)({cursor:"inherit"},e.emptyValueFocused&&{top:0,bottom:0,position:"absolute",outline:"1px solid #999",width:"100%"})),I=(0,E.ZP)("span",{name:"MuiRating",slot:"Icon",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.icon,n.iconEmpty&&t.iconEmpty,n.iconFilled&&t.iconFilled,n.iconHover&&t.iconHover,n.iconFocus&&t.iconFocus,n.iconActive&&t.iconActive]}})(({theme:e,ownerState:t})=>(0,f.Z)({display:"flex",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest}),pointerEvents:"none"},t.iconActive&&{transform:"scale(1.2)"},t.iconEmpty&&{color:(e.vars||e).palette.action.disabled})),L=(0,E.ZP)("span",{name:"MuiRating",slot:"Decimal",shouldForwardProp:e=>(0,E.Dz)(e)&&"iconActive"!==e,overridesResolver:(e,t)=>{let{iconActive:n}=e;return[t.decimal,n&&t.iconActive]}})(({iconActive:e})=>(0,f.Z)({position:"relative"},e&&{transform:"scale(1.2)"}));function H(e){let t=(0,h.Z)(e,N);return(0,o.jsx)("span",(0,f.Z)({},t))}function V(e){let{classes:t,disabled:n,emptyIcon:i,focus:l,getLabelText:r,highlightSelectedOnly:a,hover:c,icon:u,IconContainerComponent:d,isActive:h,itemValue:m,labelProps:v,name:g,onBlur:y,onChange:x,onClick:k,onFocus:S,readOnly:j,ownerState:_,ratingValue:w,ratingValueRounded:Z}=e,E=a?m===w:m<=w,T=m<=c,C=m<=l,B=m===Z,$=(0,b.Z)(),N=(0,o.jsx)(I,{as:d,value:m,className:(0,p.Z)(t.icon,E?t.iconFilled:t.iconEmpty,T&&t.iconHover,C&&t.iconFocus,h&&t.iconActive),ownerState:(0,f.Z)({},_,{iconEmpty:!E,iconFilled:E,iconHover:T,iconFocus:C,iconActive:h}),children:i&&!E?i:u});return j?(0,o.jsx)("span",(0,f.Z)({},v,{children:N})):(0,o.jsxs)(s.Fragment,{children:[(0,o.jsxs)(M,(0,f.Z)({ownerState:(0,f.Z)({},_,{emptyValueFocused:void 0}),htmlFor:$},v,{children:[N,(0,o.jsx)("span",{className:t.visuallyHidden,children:r(m)})]})),(0,o.jsx)("input",{className:t.visuallyHidden,onFocus:S,onBlur:y,onChange:x,onClick:k,disabled:n,value:m,id:$,type:"radio",name:g,checked:B})]})}let P=(0,o.jsx)(_,{fontSize:"inherit"}),G=(0,o.jsx)(w,{fontSize:"inherit"});function O(e){return`${e} Star${1!==e?"s":""}`}let D=s.forwardRef(function(e,t){let n=(0,Z.Z)({name:"MuiRating",props:e}),{className:i,defaultValue:l=null,disabled:r=!1,emptyIcon:a=G,emptyLabelText:c="Empty",getLabelText:u=O,highlightSelectedOnly:d=!1,icon:m=P,IconContainerComponent:v=H,max:y=5,name:j,onChange:_,onChangeActive:w,onMouseLeave:E,onMouseMove:T,precision:C=1,readOnly:B=!1,size:$="medium",value:N}=n,I=(0,h.Z)(n,A),D=(0,b.Z)(j),[X,q]=(0,x.Z)({controlled:N,default:l,name:"Rating"}),J=F(X,C),W=(0,g.Z)(),[{hover:K,focus:U},Y]=s.useState({hover:-1,focus:-1}),Q=J;-1!==K&&(Q=K),-1!==U&&(Q=U);let{isFocusVisibleRef:ee,onBlur:et,onFocus:en,ref:eo}=(0,k.Z)(),[ei,el]=s.useState(!1),er=s.useRef(),ea=(0,S.Z)(eo,er,t),ec=e=>{let t=""===e.target.value?null:parseFloat(e.target.value);-1!==K&&(t=K),q(t),_&&_(e,t)},es=e=>{(0!==e.clientX||0!==e.clientY)&&(Y({hover:-1,focus:-1}),q(null),_&&parseFloat(e.target.value)===J&&_(e,null))},eu=e=>{en(e),!0===ee.current&&el(!0);let t=parseFloat(e.target.value);Y(e=>({hover:e.hover,focus:t}))},ed=e=>{-1===K&&(et(e),!1===ee.current&&el(!1),Y(e=>({hover:e.hover,focus:-1})))},[eh,ef]=s.useState(!1),ep=(0,f.Z)({},n,{defaultValue:l,disabled:r,emptyIcon:a,emptyLabelText:c,emptyValueFocused:eh,focusVisible:ei,getLabelText:u,icon:m,IconContainerComponent:v,max:y,precision:C,readOnly:B,size:$}),em=R(ep);return(0,o.jsxs)(z,(0,f.Z)({ref:ea,onMouseMove:e=>{var t;let n;T&&T(e);let o=er.current,{right:i,left:l}=o.getBoundingClientRect(),{width:r}=o.firstChild.getBoundingClientRect();n="rtl"===W.direction?(i-e.clientX)/(r*y):(e.clientX-l)/(r*y);let a=F(y*n+C/2,C);a=(t=a)<C?C:t>y?y:t,Y(e=>e.hover===a&&e.focus===a?e:{hover:a,focus:a}),el(!1),w&&K!==a&&w(e,a)},onMouseLeave:e=>{E&&E(e),Y({hover:-1,focus:-1}),w&&-1!==K&&w(e,-1)},className:(0,p.Z)(em.root,i,B&&"MuiRating-readOnly"),ownerState:ep,role:B?"img":null,"aria-label":B?u(Q):null},I,{children:[Array.from(Array(y)).map((e,t)=>{let n=t+1,i={classes:em,disabled:r,emptyIcon:a,focus:U,getLabelText:u,highlightSelectedOnly:d,hover:K,icon:m,IconContainerComponent:v,name:D,onBlur:ed,onChange:ec,onClick:es,onFocus:eu,ratingValue:Q,ratingValueRounded:J,readOnly:B,ownerState:ep},l=n===Math.ceil(Q)&&(-1!==K||-1!==U);if(C<1){let e=Array.from(Array(1/C));return(0,o.jsx)(L,{className:(0,p.Z)(em.decimal,l&&em.iconActive),ownerState:ep,iconActive:l,children:e.map((t,l)=>{let r=F(n-1+(l+1)*C,C);return(0,o.jsx)(V,(0,f.Z)({},i,{isActive:!1,itemValue:r,labelProps:{style:e.length-1===l?{}:{width:r===Q?`${(l+1)*C*100}%`:"0%",overflow:"hidden",position:"absolute"}}}),r)})},n)}return(0,o.jsx)(V,(0,f.Z)({},i,{isActive:l,itemValue:n}),n)}),!B&&!r&&(0,o.jsxs)(M,{className:(0,p.Z)(em.label,em.labelEmptyValue),ownerState:ep,children:[(0,o.jsx)("input",{className:em.visuallyHidden,value:"",id:`${D}-empty`,type:"radio",name:D,checked:null==J,onFocus:()=>ef(!0),onBlur:()=>ef(!1),onChange:ec}),(0,o.jsx)("span",{className:em.visuallyHidden,children:c})]})]}))});var X=n(7057),q=n.n(X),J=e=>{let{selectedBoke:t,value:n,handleRatingChange:i,handleCancel:l,openTwitterShare:r,openFacebookShare:a,closeBokeDetail:c,timeSince:s}=e;return(0,o.jsxs)("div",{className:q().fullScreenBokeRight,children:[(0,o.jsx)("p",{className:q().fullScreenText,children:t.text}),(0,o.jsx)("p",{className:q().fullScreenTime,children:s(new Date(t.createdAt))}),(0,o.jsxs)("div",{className:q().twitterShare,children:[(0,o.jsx)(d.G,{icon:u.mim,size:"2xs",style:{color:"#434343"},onClick:()=>r(t.text)}),(0,o.jsx)(d.G,{icon:u.pZl,size:"2xs",style:{color:"#434343"},onClick:()=>a(t.text)})]}),(0,o.jsxs)("p",{className:q().middleEreaLikeCount,children:["★",t.like]}),(0,o.jsxs)("div",{className:q().rating,children:[(0,o.jsx)(D,{name:"customized-10",size:"large",value:n,onChange:i,max:3}),n>0&&(0,o.jsx)("button",{onClick:l,children:"取り消し"})]}),(0,o.jsx)("button",{className:q().closeButton,onClick:c,children:"閉じる"})]})},W=n(1587),K=n(9777);let U=()=>{let[e,t]=(0,s.useState)(null),[n,o]=(0,s.useState)(0),i=async(t,i)=>{if(null!==i){console.log(i-n);let t=i-n;await K.x.boke.post({body:{bokeId:null==e?void 0:e.bokeId,userId:void 0,text:void 0,image:void 0,like:t}}),o(i)}},l=(0,c.useRouter)(),r=l.query.bokeId,a=l.query.order,[u,d]=(0,s.useState)([]),[h,f]=(0,s.useState)([]),[p,m]=(0,s.useState)(null),v=async()=>{let e=await K.x.boke.$get({});Array.isArray(e)&&d(e)},g=h.findIndex(e=>e.bokeId===p),y=(0,s.useCallback)(async()=>{if(null!==p){console.log(p);let e=await K.x.boke.selected.$post({body:{bokeId:p}});console.log(e),Array.isArray(e)?console.error("Expected a single BokeModel but received an array."):t(e)}},[p,t]);return{openTwitterShare:e=>{let t="https://twitter.com/intent/tweet?text=".concat(encodeURIComponent(e));window.open(t,"_blank","noopener,noreferrer")},openFacebookShare:e=>{let t="https://www.facebook.com/sharer/sharer.php?u=".concat(encodeURIComponent(e));window.open(t,"_blank","noopener,noreferrer")},handleCancel:()=>{console.log(-n),o(0)},handleRatingChange:i,timeSince:function(e){let t=Math.floor((new Date().getTime()-e.getTime())/1e3),n=Math.floor(t/31536e3);return n>1?"".concat(n," 年前"):(n=Math.floor(t/2592e3))>1?"".concat(n," 月前"):(n=Math.floor(t/86400))>1?"".concat(n," 日前"):(n=Math.floor(t/3600))>1?"".concat(n," 時間前"):(n=Math.floor(t/60))>1?"".concat(n," 分前"):"".concat(Math.floor(t)," 秒前")},selectedBoke:e,value:n,setSelectedBoke:t,router:l,rawBokeId:r,order:a,bokeData:u,sortedBokeData:h,setSortedBokeData:f,bokeId:p,setBokeId:m,fetchBoke:v,currentBokeIndex:g,navigateToLeft:()=>{if(console.log("left"),console.log(g),g>0){let e=h[g-1].bokeId;l.push("/view/".concat(e,"?order=").concat(a))}},navigateToRight:()=>{if(console.log("right"),console.log(g),g<h.length-1){let e=h[g+1].bokeId;l.push("/view/".concat(e,"?order=").concat(a))}},fetchSelectedBoke:y,closeBokeDetail:()=>{t(null),l.push("/view/")}}};var Y=n(8575),Q=n.n(Y),ee=()=>{let{openTwitterShare:e,openFacebookShare:t,handleCancel:n,handleRatingChange:r,timeSince:u,selectedBoke:d,value:h,setSelectedBoke:f}=U(),p=(0,c.useRouter)(),m=p.query.bokeId,v=p.query.order,[g,y]=(0,s.useState)([]),[b,x]=(0,s.useState)([]),[k,S]=(0,s.useState)(null),j=async()=>{let e=await K.x.boke.$get({});Array.isArray(e)&&y(e)},_=b.findIndex(e=>e.bokeId===k),w=(0,s.useCallback)(async()=>{if(null!==k){console.log(k);let e=await K.x.boke.selected.$post({body:{bokeId:k}});console.log(e),Array.isArray(e)?console.error("Expected a single BokeModel but received an array."):f(e)}},[k,f]);return(0,s.useEffect)(()=>{j()},[]),(0,s.useEffect)(()=>{if("like"===v){let e=[...g].sort((e,t)=>t.like-e.like);x(e)}else if("createdAt"===v){let e=[...g].sort((e,t)=>new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime());x(e)}else if("random"===v){let e=[...g].sort(()=>Math.random()-.5);x(e)}else x(g)},[v,g]),(0,s.useEffect)(()=>{if("string"==typeof m){let e=m.replace(/\/$/,""),t=parseInt(e);isNaN(t)||S(t)}},[m]),(0,s.useEffect)(()=>{w()},[w]),(0,o.jsxs)("div",{className:Q().container,children:[(0,o.jsxs)(a(),{children:[(0,o.jsx)("link",{rel:"preconnect",href:"https://fonts.googleapis.com"}),(0,o.jsx)("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossOrigin:"anonymous"}),(0,o.jsx)("link",{href:"https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@100;400&display=swap",rel:"stylesheet"})]}),(0,o.jsx)(W.Z,{}),(0,o.jsx)("button",{className:Q().leftButton,onClick:()=>{if(console.log("left"),console.log(_),_>0){let e=b[_-1].bokeId;p.push("/view/".concat(e,"?order=").concat(v))}},children:(0,o.jsx)(i.Z,{fontSize:"large"})}),null!==d&&(0,o.jsx)("div",{className:Q().contentWrapper,children:(0,o.jsxs)("div",{className:Q().fullScreenBoke,children:[(0,o.jsx)("div",{className:Q().fullScreenBokeLeft,children:(0,o.jsx)("img",{className:Q().fullScreenImage,src:d.image,alt:"Boke ".concat(d.bokeId)})}),(0,o.jsx)(J,{selectedBoke:d,value:h,handleRatingChange:r,handleCancel:n,openTwitterShare:e,openFacebookShare:t,closeBokeDetail:()=>{f(null),p.push("/view/")},timeSince:u})]})}),(0,o.jsx)("button",{className:Q().rightButton,onClick:()=>{if(console.log("right"),console.log(_),_<b.length-1){let e=b[_+1].bokeId;p.push("/view/".concat(e,"?order=").concat(v))}},children:(0,o.jsx)(l.Z,{fontSize:"large"})})]})}},9777:function(e,t,n){"use strict";n.d(t,{x:function(){return r}});var o=n(9239),i=n(7080),l=n(6154);let r=(e=>{let{baseURL:t,fetch:n}=e,o=(void 0===t?"":t).replace(/\/$/,""),l="/boke",r="/boke/selected",a="/health",c="/image",s="/session",u="/tasks",d="/tasks/di",h="POST",f="DELETE",p="PATCH";return{boke:{selected:{get:e=>n(o,r,"GET",e).text(),$get:e=>n(o,r,"GET",e).text().then(e=>e.body),post:e=>n(o,r,h,e).json(),$post:e=>n(o,r,h,e).json().then(e=>e.body),$path:()=>"".concat(o).concat(r)},get:e=>n(o,l,"GET",e).json(),$get:e=>n(o,l,"GET",e).json().then(e=>e.body),post:e=>n(o,l,h,e).send(),$post:e=>n(o,l,h,e).send().then(e=>e.body),$path:()=>"".concat(o).concat(l)},health:{get:e=>n(o,a,"GET",e).json(),$get:e=>n(o,a,"GET",e).json().then(e=>e.body),$path:()=>"".concat(o).concat(a)},image:{get:e=>n(o,c,"GET",e).text(),$get:e=>n(o,c,"GET",e).text().then(e=>e.body),post:e=>n(o,c,h,e).json(),$post:e=>n(o,c,h,e).json().then(e=>e.body),$path:()=>"".concat(o).concat(c)},me:{get:e=>n(o,"/me","GET",e).json(),$get:e=>n(o,"/me","GET",e).json().then(e=>e.body),$path:()=>"".concat(o).concat("/me")},session:{post:e=>n(o,s,h,e).json(),$post:e=>n(o,s,h,e).json().then(e=>e.body),delete:e=>n(o,s,f,e).json(),$delete:e=>n(o,s,f,e).json().then(e=>e.body),$path:()=>"".concat(o).concat(s)},tasks:{_taskId:e=>{let t="".concat(u,"/").concat(e);return{patch:e=>n(o,t,p,e).json(),$patch:e=>n(o,t,p,e).json().then(e=>e.body),delete:e=>n(o,t,f,e).json(),$delete:e=>n(o,t,f,e).json().then(e=>e.body),$path:()=>"".concat(o).concat(t)}},di:{get:e=>n(o,d,"GET",e).json(),$get:e=>n(o,d,"GET",e).json().then(e=>e.body),$path:()=>"".concat(o).concat(d)},get:e=>n(o,u,"GET",e).json(),$get:e=>n(o,u,"GET",e).json().then(e=>e.body),post:e=>n(o,u,h,e).json(),$post:e=>n(o,u,h,e).json().then(e=>e.body),patch:e=>n(o,u,p,e).json(),$patch:e=>n(o,u,p,e).json().then(e=>e.body),delete:e=>n(o,u,f,e).json(),$delete:e=>n(o,u,f,e).json().then(e=>e.body),$path:e=>"".concat(o).concat(u).concat(e&&e.query?"?".concat((0,i._K)(e.query)):"")},get:e=>n(o,"","GET",e).text(),$get:e=>n(o,"","GET",e).text().then(e=>e.body),$path:()=>"".concat(o)}})((0,o.Z)(l.Z.create({withCredentials:!0})))},7057:function(e){e.exports={fullScreenBokeRight:"FullScreenBokeright_fullScreenBokeRight__gJAV1",fullScreenText:"FullScreenBokeright_fullScreenText__3DV43",middleErea:"FullScreenBokeright_middleErea__MRAVj",middleEreaLikeCount:"FullScreenBokeright_middleEreaLikeCount__p6X5X",fullScreenTime:"FullScreenBokeright_fullScreenTime__njS7l",twitterShare:"FullScreenBokeright_twitterShare__7uFyf",rating:"FullScreenBokeright_rating__UCtn4",closeButton:"FullScreenBokeright_closeButton__A7vLj"}},1014:function(e){e.exports={headerContainer:"Header_headerContainer__4fbbd",headerTop:"Header_headerTop__PiWQz",textBottomLeft:"Header_textBottomLeft__943jk",headerBottom:"Header_headerBottom__VzkFF",link:"Header_link__p2PJz",active:"Header_active__8Eipm"}},8575:function(e){e.exports={container:"bokeid_container__9E03J",contentWrapper:"bokeid_contentWrapper__gYIuH",fullScreenBoke:"bokeid_fullScreenBoke__4EPI8",fullScreenBokeLeft:"bokeid_fullScreenBokeLeft__SfJla",fullScreenImage:"bokeid_fullScreenImage__cpdGy",leftButton:"bokeid_leftButton__sSEmB",rightButton:"bokeid_rightButton__DJn3x"}},4836:function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports}},function(e){e.O(0,[948,911,361,774,888,179],function(){return e(e.s=5053)}),_N_E=e.O()}]);