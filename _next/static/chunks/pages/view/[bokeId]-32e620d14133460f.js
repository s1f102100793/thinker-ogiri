(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[741],{5053:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/view/[bokeId]",function(){return n(1671)}])},1587:function(e,t,n){"use strict";var o=n(5893),a=n(1014),c=n.n(a);t.Z=()=>{let e=window.location.pathname;return(0,o.jsxs)("div",{className:c().headerContainer,children:[(0,o.jsx)("div",{className:c().headerTop,children:(0,o.jsx)("div",{className:c().textBottomLeft,children:"ロダン大喜利"})}),(0,o.jsxs)("div",{className:c().headerBottom,children:[(0,o.jsx)("a",{href:"/",className:"".concat(c().link," ").concat("/"===e?c().active:""),children:"Home"}),(0,o.jsx)("a",{href:"/view",className:"".concat(c().link," ").concat("/view/"===e?c().active:""),children:"View"}),(0,o.jsx)("a",{href:"/create",className:"".concat(c().link," ").concat("/create/"===e?c().active:""),children:"Create"}),(0,o.jsx)("a",{href:"/outstanding",className:"".concat(c().link," ").concat("/outstanding/"===e?c().active:""),children:"Outstanding"})]})]})}},1671:function(e,t,n){"use strict";n.r(t);var o=n(5893),a=n(3024),c=n(2489),s=n(7877),l=n(9008),i=n.n(l),r=n(1163),d=n(7294),h=n(1587),u=n(9777),_=n(8575),p=n.n(_);t.default=()=>{let e=(0,r.useRouter)(),t=e.query.bokeId,n=null;if("string"==typeof t){let e=t.replace(/\/$/,""),o=parseInt(e);isNaN(o)||(n=o)}let[l,_]=(0,d.useState)(null),[f,m]=(0,d.useState)(0),k=e=>{let t="https://twitter.com/intent/tweet?text=".concat(encodeURIComponent(e));window.open(t,"_blank","noopener,noreferrer")},j=async(e,t)=>{if(null!==t){console.log(t-f);let e=t-f;await u.x.boke.post({body:{bokeId:null==l?void 0:l.bokeId,userId:void 0,text:void 0,image:void 0,like:e}}),m(t)}},g=(0,d.useCallback)(async()=>{if(null!==n){console.log(n);let e=await u.x.boke.selected.$post({body:{bokeId:n}});console.log(e),Array.isArray(e)?console.error("Expected a single BokeModel but received an array."):_(e)}},[n]);return(0,d.useEffect)(()=>{g()},[g]),(0,o.jsxs)("div",{className:p().container,children:[(0,o.jsxs)(i(),{children:[(0,o.jsx)("link",{rel:"preconnect",href:"https://fonts.googleapis.com"}),(0,o.jsx)("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossOrigin:"anonymous"}),(0,o.jsx)("link",{href:"https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@100;400&display=swap",rel:"stylesheet"})]}),(0,o.jsx)(h.Z,{}),null!==l&&(0,o.jsx)("div",{className:p().contentWrapper,children:(0,o.jsxs)("div",{className:p().fullScreenBoke,children:[(0,o.jsx)("div",{className:p().fullScreenBokeLeft,children:(0,o.jsx)("img",{className:p().fullScreenImage,src:l.image,alt:"Boke ".concat(l.bokeId)})}),(0,o.jsxs)("div",{className:p().fullScreenBokeRight,children:[(0,o.jsx)("p",{className:p().fullScreenText,children:l.text}),(0,o.jsxs)("div",{className:p().middleErea,children:[(0,o.jsxs)("p",{className:p().middleEreaLikeCount,children:["★",l.like]}),(0,o.jsx)("p",{className:p().fullScreenTime,children:function(e){let t=Math.floor((new Date().getTime()-e.getTime())/1e3),n=Math.floor(t/31536e3);return n>1?"".concat(n," 年前"):(n=Math.floor(t/2592e3))>1?"".concat(n," 月前"):(n=Math.floor(t/86400))>1?"".concat(n," 日前"):(n=Math.floor(t/3600))>1?"".concat(n," 時間前"):(n=Math.floor(t/60))>1?"".concat(n," 分前"):"".concat(Math.floor(t)," 秒前")}(new Date(l.createdAt))}),(0,o.jsx)("div",{className:p().twitterShare,children:(0,o.jsx)(c.G,{icon:a.mim,size:"2xs",style:{color:"#434343"},onClick:()=>k(l.text)})})]}),(0,o.jsxs)("div",{className:p().rating,children:[(0,o.jsx)(s.Z,{name:"customized-10",value:f,onChange:j,max:3}),f>0&&(0,o.jsx)("button",{onClick:()=>{console.log(-f),m(0)},children:"取り消し"})]}),(0,o.jsx)("button",{className:p().closeButton,onClick:()=>{_(null),e.push("/view/")},children:"閉じる"})]})]})})]})}},9777:function(e,t,n){"use strict";n.d(t,{x:function(){return s}});var o=n(9239),a=n(7080),c=n(6154);let s=(e=>{let{baseURL:t,fetch:n}=e,o=(void 0===t?"":t).replace(/\/$/,""),c="/boke",s="/boke/selected",l="/health",i="/image",r="/session",d="/tasks",h="/tasks/di",u="POST",_="DELETE",p="PATCH";return{boke:{selected:{get:e=>n(o,s,"GET",e).text(),$get:e=>n(o,s,"GET",e).text().then(e=>e.body),post:e=>n(o,s,u,e).json(),$post:e=>n(o,s,u,e).json().then(e=>e.body),$path:()=>"".concat(o).concat(s)},get:e=>n(o,c,"GET",e).json(),$get:e=>n(o,c,"GET",e).json().then(e=>e.body),post:e=>n(o,c,u,e).send(),$post:e=>n(o,c,u,e).send().then(e=>e.body),$path:()=>"".concat(o).concat(c)},health:{get:e=>n(o,l,"GET",e).json(),$get:e=>n(o,l,"GET",e).json().then(e=>e.body),$path:()=>"".concat(o).concat(l)},image:{get:e=>n(o,i,"GET",e).text(),$get:e=>n(o,i,"GET",e).text().then(e=>e.body),post:e=>n(o,i,u,e).json(),$post:e=>n(o,i,u,e).json().then(e=>e.body),$path:()=>"".concat(o).concat(i)},me:{get:e=>n(o,"/me","GET",e).json(),$get:e=>n(o,"/me","GET",e).json().then(e=>e.body),$path:()=>"".concat(o).concat("/me")},session:{post:e=>n(o,r,u,e).json(),$post:e=>n(o,r,u,e).json().then(e=>e.body),delete:e=>n(o,r,_,e).json(),$delete:e=>n(o,r,_,e).json().then(e=>e.body),$path:()=>"".concat(o).concat(r)},tasks:{_taskId:e=>{let t="".concat(d,"/").concat(e);return{patch:e=>n(o,t,p,e).json(),$patch:e=>n(o,t,p,e).json().then(e=>e.body),delete:e=>n(o,t,_,e).json(),$delete:e=>n(o,t,_,e).json().then(e=>e.body),$path:()=>"".concat(o).concat(t)}},di:{get:e=>n(o,h,"GET",e).json(),$get:e=>n(o,h,"GET",e).json().then(e=>e.body),$path:()=>"".concat(o).concat(h)},get:e=>n(o,d,"GET",e).json(),$get:e=>n(o,d,"GET",e).json().then(e=>e.body),post:e=>n(o,d,u,e).json(),$post:e=>n(o,d,u,e).json().then(e=>e.body),patch:e=>n(o,d,p,e).json(),$patch:e=>n(o,d,p,e).json().then(e=>e.body),delete:e=>n(o,d,_,e).json(),$delete:e=>n(o,d,_,e).json().then(e=>e.body),$path:e=>"".concat(o).concat(d).concat(e&&e.query?"?".concat((0,a._K)(e.query)):"")},get:e=>n(o,"","GET",e).text(),$get:e=>n(o,"","GET",e).text().then(e=>e.body),$path:()=>"".concat(o)}})((0,o.Z)(c.Z.create({withCredentials:!0})))},1014:function(e){e.exports={headerContainer:"Header_headerContainer__4fbbd",headerTop:"Header_headerTop__PiWQz",textBottomLeft:"Header_textBottomLeft__943jk",headerBottom:"Header_headerBottom__VzkFF",link:"Header_link__p2PJz",active:"Header_active__8Eipm"}},8575:function(e){e.exports={container:"bokeid_container__9E03J",contentWrapper:"bokeid_contentWrapper__gYIuH",fullScreenBoke:"bokeid_fullScreenBoke__4EPI8",fullScreenBokeLeft:"bokeid_fullScreenBokeLeft__SfJla",fullScreenImage:"bokeid_fullScreenImage__cpdGy",fullScreenBokeRight:"bokeid_fullScreenBokeRight__NeXgg",fullScreenText:"bokeid_fullScreenText__fgpgU",middleErea:"bokeid_middleErea__4En_J",middleEreaLikeCount:"bokeid_middleEreaLikeCount__bxCA5",fullScreenTime:"bokeid_fullScreenTime__qa9ps",twitterShare:"bokeid_twitterShare__xSWph",rating:"bokeid_rating__jqiRe",closeButton:"bokeid_closeButton__0egRB"}}},function(e){e.O(0,[948,465,300,774,888,179],function(){return e(e.s=5053)}),_N_E=e.O()}]);